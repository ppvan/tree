{% extends "layout/base.html" %}
{% load static %}
{% load humanize %}
{% load concurency %}
{% block title %}Cart{% endblock title %}


{% block content %}
<div class="m-auto flex w-full h-full">
    <div class="w-3/4 mr-10">
        <table class="table-fixed w-full border-collapse">
            <thead>
                <th class=" uppercase border-b-2 mb-4 border-gray-400 " colspan="5">Sản phẩm</th>
                <th class=" uppercase text-left border-b-2 mb-4 border-gray-400 " colspan="2">Giá</th>
                <th class=" uppercase border-b-2 mb-4 border-gray-400 " colspan="1">Số lượng</th>
                <th class=" uppercase text-right px-2 border-b-2 mb-4 border-gray-400 " colspan="3">Tạm tính</th>
            </thead>

            <tbody>
                {% for item in order_items %}
                <tr class="">
                    <td class="border-y border-gray-500" colspan="1">
                        <img src="{{ item.product.thumbnail.url }}" alt="">
                    </td>
                    <td class="border-y p-1 pl-4 text-lg border-gray-500" colspan="4">
                        <a href="{% url 'core:product_detail' item.product.id %}"
                            class="text-green-600 hover:text-green-400">
                            {{ item.product.name }}</a>
                    </td>
                    <td class="border-y p-1 border-gray-500 text-left px-2" colspan="2">
                        {{ item.product.price|vnd_format }} đ
                    </td>
                    <td class="border-y p-1 border-gray-500 text-center" colspan="1">{{ item.quantity }}</td>
                    <td class="border-y p-1 border-gray-500 text-right px-2" colspan="3">{{ item.total_price|vnd_format
                        }}
                        đ
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="w-1/3 flex flex-col justify-between">
        <div>
            <h1 class="font-semibold px-2">Tổng cộng giỏ hàng</h1>
            <table class="w-full">
                <tbody>
                    <td class="font-semibold px-2">Tạm tính</td>
                    <td class="text-right px-2">{{ order.total_price|vnd_format }} đ</td>
                </tbody>
            </table>
        </div>
        <div class="h-max flex flex-col justify-between">
            <button class="btn w-full text-lg hover:text-white border-green-500 hover:bg-green-500">Thanh
                toán</button>
        </div>
    </div>
</div>
{% endblock content %}